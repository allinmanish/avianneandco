<?xml version="1.0"?>
<config>
	<modules>
		<VladimirPopov_WebForms>
			<version>1.4.0</version>
		</VladimirPopov_WebForms>
	</modules>
	<frontend>
		<routers>
			<webforms>
				<use>standard</use>
				<args>
					<module>VladimirPopov_WebForms</module>
					<frontName>webforms</frontName>
				</args>
			</webforms>
			<contacts>
				<args>
					<modules>
						<VladimirPopov_WebForms before="Mage_Contacts">VladimirPopov_WebForms_Contacts</VladimirPopov_WebForms>
					</modules>
				</args>
			</contacts>
		</routers>
		<layout>
			<updates>
				<webforms>
					<file>webforms.xml</file>
				</webforms>
			</updates>
		</layout>
	   <translate>
			<modules>
				<VladimirPopov_WebForms>
					<files>
						<default>VladimirPopov_WebForms.csv</default>
					</files>
				</VladimirPopov_WebForms>
			</modules>
		</translate>
	</frontend>
	<admin>
		<routers>
			<webforms>
				<use>admin</use>
				<args>
					<module>VladimirPopov_WebForms</module>
					<frontName>webforms</frontName>
				</args>
			</webforms>
		</routers>
	</admin>
	<adminhtml>
		<translate>
			<modules>
				<VladimirPopov_WebForms>
					<files>
						<default>VladimirPopov_WebForms.csv</default>
					</files>
				</VladimirPopov_WebForms>
			</modules>
		</translate>
		<menu>
			<webforms module="webforms">
				<title>Web-forms</title>
				<sort_order>77</sort_order>
				<children>
					<items module="webforms">
						<title>Manage Forms</title>
						<sort_order>0</sort_order>
						<action>webforms/adminhtml_webforms</action>
					</items>
				</children>
			</webforms>
		</menu>
		<acl>
			<resources>
				<all>
					<title>Allow Everything</title>
				</all>
				<admin>
					<children>
						<webforms>
							<title>Web-forms Module</title>
							<sort_order>10</sort_order>
							<children>
								<items translate="title">
									<title>Manage Forms</title>
								</items>
							</children>							
						</webforms>
					</children>
				</admin>
				<admin>
					<children>
						<system>
							<children>
								<config>
									<children>
										<webforms>
											<title>Web-forms Configuration</title>
										</webforms>
									</children>
								</config>
							</children>
						</system>
					</children>
				</admin>
			</resources>
		</acl>
		<layout>
			<updates>
				<webforms>
					<file>webforms.xml</file>
				</webforms>
			</updates>
		</layout>
	</adminhtml>
	<global>
		<models>
			<webforms>
				<class>VladimirPopov_WebForms_Model</class>
				<resourceModel>webforms_mysql4</resourceModel>
			</webforms>
			<results>
				<class>VladimirPopov_WebForms_Model</class>
				<resourceModel>webforms_mysql4</resourceModel>
			</results>
			<fields>
				<class>VladimirPopov_WebForms_Model</class>
				<resourceModel>webforms_mysql4</resourceModel>
			</fields>
			<fieldsets>
				<class>VladimirPopov_WebForms_Model</class>
				<resourceModel>webforms_mysql4</resourceModel>
			</fieldsets>
			<webforms_mysql4>
				<class>VladimirPopov_WebForms_Model_Mysql4</class>
				<entities>
					<webforms>
						<table>webforms</table>
					</webforms>
					<fields>
						<table>webforms_fields</table>
					</fields>
					<fieldsets>
						<table>webforms_fieldsets</table>
					</fieldsets>
					<results>
						<table>webforms_results</table>
					</results>
					<results_values>
						<table>webforms_results_values</table>
					</results_values>
				</entities>
			</webforms_mysql4>
		</models>
		<resources>
			<webforms_setup>
				<setup>
					<module>VladimirPopov_WebForms</module>
				</setup>
				<connection>
					<use>core_setup</use>
				</connection>
			</webforms_setup>
			<webforms_write>
				<connection>
					<use>core_write</use>
				</connection>
			</webforms_write>
			<webforms_read>
				<connection>
					<use>core_read</use>
				</connection>
			</webforms_read>
		</resources>
		<blocks>
			<webforms>
				<class>VladimirPopov_WebForms_Block</class>
			</webforms>
			<adminhtml>
				<rewrite>
					<page_menu>VladimirPopov_WebForms_Block_Adminhtml_Menu</page_menu>
				</rewrite>
			</adminhtml>
		</blocks>
		<helpers>
			<webforms>
				<class>VladimirPopov_WebForms_Helper</class>
			</webforms>
		</helpers>
		<template>
			<email>
				<webforms_results translate="label" module="webforms">
					<label>Web-form new result</label>
					<file>webforms_results.html</file>
					<type>html</type>
				</webforms_results>
				<webforms_results_customer translate="label" module="webforms">
					<label>Web-form new result (customer duplicate)</label>
					<file>webforms_results_customer.html</file>
					<type>html</type>
				</webforms_results_customer>
			</email>
		</template>
		<events>
			<controller_action_layout_generate_blocks_after>
				<observers>
					<webforms_controller_action_layout_generate_blocks_after>
						<type>singleton</type>
						<class>VladimirPopov_WebForms_Model_Observer</class>
						<method>addAssets</method>
					</webforms_controller_action_layout_generate_blocks_after>
				</observers>
			</controller_action_layout_generate_blocks_after>
		</events>
	</global>
	<default>
		<webforms>
			<general>
				<ajax>1</ajax>
			</general>
			<results>
				<fieldname_display_limit>25</fieldname_display_limit>
			</results>
			<images>
				<cache>1</cache>
				<upload_limit>300</upload_limit>
				<grid_thumbnail_width>100</grid_thumbnail_width>
				<email_thumbnail_width>200</email_thumbnail_width>
			</images>
			<captcha>
				<mode>default</mode>
				<api>standard</api>
				<theme>red</theme>
				<language>en</language>
			</captcha>
		</webforms>
	</default>
</config>
